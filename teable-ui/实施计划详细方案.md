# Teable æ–°ç³»ç»ŸåŠŸèƒ½å®Œå–„ - è¯¦ç»†å®æ–½è®¡åˆ’

> çŸ­æœŸï¼ˆ1-2å‘¨ï¼‰+ ä¸­æœŸï¼ˆ1-2ä¸ªæœˆï¼‰å®æ–½æ–¹æ¡ˆ
> 
> å¼€å§‹æ—¶é—´: 2025-10-09

---

## ğŸ“‹ æ€»ä½“ç›®æ ‡

### ç¬¬ä¸€é˜¶æ®µç›®æ ‡ï¼ˆ1-2 å‘¨ï¼‰
å®Œå–„ Grid View æ ¸å¿ƒåŠŸèƒ½ï¼Œä½¿ç³»ç»Ÿè¾¾åˆ°åŸºæœ¬å¯ç”¨çŠ¶æ€

**ç›®æ ‡å®Œæˆåº¦**: 40% â†’ 55%

### ç¬¬äºŒé˜¶æ®µç›®æ ‡ï¼ˆ1-2 ä¸ªæœˆï¼‰
è¡¥å……å…³é”®å­—æ®µç±»å‹ï¼Œå®ç°å¤æ‚æ•°æ®å…³ç³»

**ç›®æ ‡å®Œæˆåº¦**: 55% â†’ 75%

---

## ğŸ¯ ç¬¬ä¸€é˜¶æ®µï¼šGrid View æ ¸å¿ƒåŠŸèƒ½ï¼ˆ1-2 å‘¨ï¼‰

### ä»»åŠ¡ 1: Filterï¼ˆè¿‡æ»¤ï¼‰åŠŸèƒ½ â­â­â­

**ä¼˜å…ˆçº§**: ğŸ”´ æœ€é«˜  
**é¢„è®¡å·¥æ—¶**: 3-4 å¤©  
**çŠ¶æ€**: ğŸ”„ è¿›è¡Œä¸­

#### åŠŸèƒ½éœ€æ±‚

1. **è¿‡æ»¤æ¡ä»¶æ„å»ºå™¨**
   - æ”¯æŒå¤šæ¡ä»¶ç»„åˆï¼ˆAND/ORï¼‰
   - æ”¯æŒå„ç§å­—æ®µç±»å‹çš„è¿‡æ»¤
   - æ”¯æŒåµŒå¥—æ¡ä»¶ç»„

2. **å­—æ®µç±»å‹è¿‡æ»¤è§„åˆ™**
   ```typescript
   Text:      contains, does not contain, is, is not, is empty, is not empty
   Number:    =, !=, >, <, >=, <=, is empty, is not empty
   Select:    is, is not, is any of, is none of, is empty, is not empty
   Date:      is, is before, is after, is within, is empty, is not empty
   Boolean:   is checked, is not checked
   Rating:    =, !=, >, <, >=, <=, is empty, is not empty
   ```

3. **UI ç»„ä»¶**
   - Filter æŒ‰é’®å’Œé¢æ¿
   - æ¡ä»¶ç¼–è¾‘å™¨
   - æ¡ä»¶é¢„è§ˆ

#### å®æ–½æ­¥éª¤

**Step 1: åˆ†ææ—§ç³»ç»Ÿå®ç°ï¼ˆ0.5 å¤©ï¼‰**
```typescript
// æŸ¥çœ‹æ—§ç³»ç»Ÿ Filter å®ç°
æ–‡ä»¶ä½ç½®:
- apps/nextjs-app/src/features/app/blocks/view/grid/components/FieldMenu.tsx
- packages/core/src/models/view/filter.ts
- packages/sdk/src/components/filter/
```

**Step 2: è®¾è®¡ Filter æ•°æ®ç»“æ„ï¼ˆ0.5 å¤©ï¼‰**
```typescript
// src/types/filter.ts
export interface IFilter {
  conjunction: 'and' | 'or'
  filterSet: IFilterItem[]
}

export interface IFilterItem {
  fieldId: string
  operator: FilterOperator
  value: any
}

export type FilterOperator = 
  | 'is' | 'isNot' | 'isEmpty' | 'isNotEmpty'
  | 'contains' | 'doesNotContain'
  | 'isGreaterThan' | 'isLessThan'
  | 'isAnyOf' | 'isNoneOf'
  // ... æ›´å¤šæ“ä½œç¬¦
```

**Step 3: å®ç° Filter UI ç»„ä»¶ï¼ˆ1.5 å¤©ï¼‰**
```typescript
// src/components/filter/FilterBuilder.tsx
// src/components/filter/FilterCondition.tsx
// src/components/filter/FilterOperatorSelect.tsx
// src/components/filter/FilterValueInput.tsx
```

**Step 4: å®ç° Filter é€»è¾‘ï¼ˆ1 å¤©ï¼‰**
```typescript
// src/lib/filter-engine.ts
export function applyFilter(
  records: IRowData[], 
  filter: IFilter,
  fields: IField[]
): IRowData[] {
  // å®ç°è¿‡æ»¤é€»è¾‘
}
```

**Step 5: é›†æˆåˆ° Gridï¼ˆ0.5 å¤©ï¼‰**
```typescript
// åœ¨ FullFeaturedDemo.tsx ä¸­é›†æˆ
const [filter, setFilter] = useState<IFilter | null>(null)
const filteredData = useMemo(() => {
  if (!filter) return data
  return applyFilter(data, filter, fields)
}, [data, filter, fields])
```

#### éªŒæ”¶æ ‡å‡†

- [ ] å¯ä»¥åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤è¿‡æ»¤æ¡ä»¶
- [ ] æ”¯æŒ AND/OR ç»„åˆé€»è¾‘
- [ ] æ”¯æŒæ‰€æœ‰åŸºç¡€å­—æ®µç±»å‹çš„è¿‡æ»¤
- [ ] Filter çŠ¶æ€å¯ä»¥ä¿å­˜å’Œæ¢å¤
- [ ] UI äº¤äº’æµç•…ï¼Œæ— æ€§èƒ½é—®é¢˜

---

### ä»»åŠ¡ 2: Sortï¼ˆæ’åºï¼‰åŠŸèƒ½ â­â­â­

**ä¼˜å…ˆçº§**: ğŸ”´ æœ€é«˜  
**é¢„è®¡å·¥æ—¶**: 2-3 å¤©  
**çŠ¶æ€**: â¸ï¸ å¾…å¼€å§‹

#### åŠŸèƒ½éœ€æ±‚

1. **å¤šå­—æ®µæ’åº**
   - æ”¯æŒå¤šå­—æ®µç»„åˆæ’åº
   - æ”¯æŒå‡åº/é™åº
   - æ”¯æŒæ‹–æ‹½è°ƒæ•´æ’åºä¼˜å…ˆçº§

2. **å­—æ®µç±»å‹æ’åºè§„åˆ™**
   ```typescript
   Text:      A-Z, Z-A
   Number:    1-9, 9-1
   Date:      oldest-newest, newest-oldest
   Select:    æŒ‰é€‰é¡¹é¡ºåº
   Boolean:   checked first, unchecked first
   Rating:    lowest-highest, highest-lowest
   ```

3. **UI ç»„ä»¶**
   - Sort æŒ‰é’®å’Œé¢æ¿
   - æ’åºè§„åˆ™åˆ—è¡¨
   - æ’åºé¢„è§ˆ

#### å®æ–½æ­¥éª¤

**Step 1: åˆ†ææ—§ç³»ç»Ÿå®ç°ï¼ˆ0.5 å¤©ï¼‰**
```typescript
// æŸ¥çœ‹æ—§ç³»ç»Ÿ Sort å®ç°
æ–‡ä»¶ä½ç½®:
- packages/core/src/models/view/sort.ts
- apps/nextjs-app/src/features/app/blocks/view/grid/
```

**Step 2: è®¾è®¡ Sort æ•°æ®ç»“æ„ï¼ˆ0.5 å¤©ï¼‰**
```typescript
// src/types/sort.ts
export interface ISort {
  sortObjs: ISortItem[]
  manualSort?: boolean
}

export interface ISortItem {
  fieldId: string
  order: 'asc' | 'desc'
}
```

**Step 3: å®ç° Sort UI ç»„ä»¶ï¼ˆ1 å¤©ï¼‰**
```typescript
// src/components/sort/SortBuilder.tsx
// src/components/sort/SortItem.tsx
// src/components/sort/SortDirectionToggle.tsx
```

**Step 4: å®ç° Sort é€»è¾‘ï¼ˆ0.5 å¤©ï¼‰**
```typescript
// src/lib/sort-engine.ts
export function applySort(
  records: IRowData[], 
  sort: ISort,
  fields: IField[]
): IRowData[] {
  // å®ç°æ’åºé€»è¾‘
}
```

**Step 5: é›†æˆåˆ° Gridï¼ˆ0.5 å¤©ï¼‰**

#### éªŒæ”¶æ ‡å‡†

- [ ] å¯ä»¥æ·»åŠ ã€åˆ é™¤ã€è°ƒæ•´æ’åºè§„åˆ™
- [ ] æ”¯æŒå¤šå­—æ®µæ’åº
- [ ] æ”¯æŒæ‰€æœ‰å­—æ®µç±»å‹çš„æ’åº
- [ ] æ’åºçŠ¶æ€å¯ä»¥ä¿å­˜å’Œæ¢å¤
- [ ] æ€§èƒ½è‰¯å¥½ï¼ˆä¸‡çº§æ•°æ®æ’åº < 100msï¼‰

---

### ä»»åŠ¡ 3: è®°å½•è¯¦æƒ…å±•å¼€ â­â­â­

**ä¼˜å…ˆçº§**: ğŸ”´ é«˜  
**é¢„è®¡å·¥æ—¶**: 3-4 å¤©  
**çŠ¶æ€**: â¸ï¸ å¾…å¼€å§‹

#### åŠŸèƒ½éœ€æ±‚

1. **è¯¦æƒ…é¡µé¢**
   - ä¾§è¾¹æ æˆ–æ¨¡æ€æ¡†å±•ç¤º
   - æ˜¾ç¤ºæ‰€æœ‰å­—æ®µ
   - æ”¯æŒç¼–è¾‘
   - æ”¯æŒåˆ‡æ¢ä¸Š/ä¸‹ä¸€æ¡è®°å½•

2. **åŠŸèƒ½ç»„ä»¶**
   - å­—æ®µå€¼å±•ç¤º
   - å­—æ®µç¼–è¾‘å™¨
   - è¯„è®ºåŒºï¼ˆæš‚æ—¶ç•™ç©ºï¼‰
   - å†å²è®°å½•ï¼ˆæš‚æ—¶ç•™ç©ºï¼‰

3. **äº¤äº’æ–¹å¼**
   - ç‚¹å‡»è¡Œå±•å¼€
   - ç‚¹å‡»å±•å¼€æŒ‰é’®
   - é”®ç›˜å¿«æ·é”®ï¼ˆSpaceï¼‰

#### å®æ–½æ­¥éª¤

**Step 1: åˆ†ææ—§ç³»ç»Ÿå®ç°ï¼ˆ0.5 å¤©ï¼‰**
```typescript
// æŸ¥çœ‹æ—§ç³»ç»Ÿå®ç°
æ–‡ä»¶ä½ç½®:
- packages/sdk/src/components/expand-record/
- apps/nextjs-app/src/components/expand-record-container/
```

**Step 2: è®¾è®¡è¯¦æƒ…é¡µç»„ä»¶ï¼ˆ0.5 å¤©ï¼‰**
```typescript
// src/components/record-detail/RecordDetailPanel.tsx
// src/components/record-detail/RecordDetailHeader.tsx
// src/components/record-detail/RecordDetailFields.tsx
// src/components/record-detail/RecordFieldEditor.tsx
```

**Step 3: å®ç°åŸºç¡€ UIï¼ˆ1.5 å¤©ï¼‰**
- ä½¿ç”¨ Sheet æˆ– Dialog ç»„ä»¶
- å¸ƒå±€è®¾è®¡
- å“åº”å¼é€‚é…

**Step 4: å®ç°ç¼–è¾‘åŠŸèƒ½ï¼ˆ1 å¤©ï¼‰**
- å­—æ®µç¼–è¾‘å™¨é›†æˆ
- æ•°æ®æ›´æ–°é€»è¾‘
- éªŒè¯å’Œé”™è¯¯å¤„ç†

**Step 5: å®ç°å¯¼èˆªåŠŸèƒ½ï¼ˆ0.5 å¤©ï¼‰**
- ä¸Šä¸€æ¡/ä¸‹ä¸€æ¡
- é”®ç›˜å¿«æ·é”®
- å…³é—­åŠŸèƒ½

#### éªŒæ”¶æ ‡å‡†

- [ ] å¯ä»¥å±•å¼€ä»»æ„è®°å½•
- [ ] æ˜¾ç¤ºæ‰€æœ‰å­—æ®µå€¼
- [ ] å¯ä»¥ç¼–è¾‘å­—æ®µå€¼
- [ ] å¯ä»¥å¯¼èˆªåˆ°ç›¸é‚»è®°å½•
- [ ] UI ç¾è§‚ï¼Œäº¤äº’æµç•…
- [ ] æ”¯æŒé”®ç›˜æ“ä½œ

---

### ä»»åŠ¡ 4: CSV å¯¼å…¥åŠŸèƒ½ â­â­

**ä¼˜å…ˆçº§**: ğŸŸ¡ ä¸­  
**é¢„è®¡å·¥æ—¶**: 2-3 å¤©  
**çŠ¶æ€**: â¸ï¸ å¾…å¼€å§‹

#### åŠŸèƒ½éœ€æ±‚

1. **æ–‡ä»¶ä¸Šä¼ **
   - æ”¯æŒæ‹–æ‹½ä¸Šä¼ 
   - æ”¯æŒæ–‡ä»¶é€‰æ‹©
   - æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆå¦‚ 10MBï¼‰

2. **æ•°æ®è§£æ**
   - è‡ªåŠ¨æ£€æµ‹ç¼–ç ï¼ˆUTF-8, GBKï¼‰
   - è§£æ CSV æ ¼å¼
   - é¢„è§ˆæ•°æ®

3. **å­—æ®µæ˜ å°„**
   - è‡ªåŠ¨åŒ¹é…å­—æ®µ
   - æ‰‹åŠ¨è°ƒæ•´æ˜ å°„
   - å­—æ®µç±»å‹éªŒè¯

4. **å¯¼å…¥æ‰§è¡Œ**
   - æ‰¹é‡åˆ›å»ºè®°å½•
   - è¿›åº¦æ˜¾ç¤º
   - é”™è¯¯å¤„ç†

#### å®æ–½æ­¥éª¤

**Step 1: åˆ†ææ—§ç³»ç»Ÿå®ç°ï¼ˆ0.5 å¤©ï¼‰**
```typescript
// æŸ¥çœ‹æ—§ç³»ç»Ÿå®ç°
æ–‡ä»¶ä½ç½®:
- apps/nextjs-app/src/features/app/blocks/import-table/
```

**Step 2: å®ç°æ–‡ä»¶ä¸Šä¼ ï¼ˆ0.5 å¤©ï¼‰**
```typescript
// src/components/import/FileUploader.tsx
```

**Step 3: å®ç° CSV è§£æï¼ˆ1 å¤©ï¼‰**
```typescript
// src/lib/csv-parser.ts
import Papa from 'papaparse'

export function parseCSV(file: File): Promise<ParseResult> {
  // ä½¿ç”¨ papaparse è§£æ
}
```

**Step 4: å®ç°å­—æ®µæ˜ å°„ UIï¼ˆ1 å¤©ï¼‰**
```typescript
// src/components/import/FieldMapper.tsx
```

**Step 5: å®ç°å¯¼å…¥é€»è¾‘ï¼ˆ0.5 å¤©ï¼‰**
```typescript
// æ‰¹é‡åˆ›å»ºè®°å½•
```

#### éªŒæ”¶æ ‡å‡†

- [ ] å¯ä»¥ä¸Šä¼  CSV æ–‡ä»¶
- [ ] æ­£ç¡®è§£æ CSV æ•°æ®
- [ ] å¯ä»¥æ˜ å°„å­—æ®µ
- [ ] æˆåŠŸå¯¼å…¥æ•°æ®
- [ ] æœ‰é”™è¯¯æç¤ºå’Œå¤„ç†

---

## ğŸ¯ ç¬¬äºŒé˜¶æ®µï¼šå…³é”®å­—æ®µç±»å‹ï¼ˆ1-2 ä¸ªæœˆï¼‰

### ä»»åŠ¡ 5: Attachmentï¼ˆé™„ä»¶ï¼‰å­—æ®µ â­â­â­

**ä¼˜å…ˆçº§**: ğŸ”´ æœ€é«˜  
**é¢„è®¡å·¥æ—¶**: 1.5-2 å‘¨  
**çŠ¶æ€**: â¸ï¸ å¾…å¼€å§‹

#### åŠŸèƒ½éœ€æ±‚

1. **æ–‡ä»¶ä¸Šä¼ **
   - æ”¯æŒå¤šæ–‡ä»¶ä¸Šä¼ 
   - æ‹–æ‹½ä¸Šä¼ 
   - ç²˜è´´ä¸Šä¼ 
   - æ–‡ä»¶ç±»å‹é™åˆ¶
   - æ–‡ä»¶å¤§å°é™åˆ¶

2. **æ–‡ä»¶ç®¡ç†**
   - æ–‡ä»¶åˆ—è¡¨æ˜¾ç¤º
   - æ–‡ä»¶é¢„è§ˆï¼ˆå›¾ç‰‡ã€PDFï¼‰
   - æ–‡ä»¶ä¸‹è½½
   - æ–‡ä»¶åˆ é™¤

3. **å­˜å‚¨æ–¹æ¡ˆ**
   - åç«¯æ–‡ä»¶å­˜å‚¨æœåŠ¡
   - æ–‡ä»¶ URL ç”Ÿæˆ
   - ç¼©ç•¥å›¾ç”Ÿæˆ

#### å®æ–½æ­¥éª¤

**Step 1: åˆ†ææ—§ç³»ç»Ÿå®ç°ï¼ˆ1 å¤©ï¼‰**
```typescript
// æŸ¥çœ‹æ—§ç³»ç»Ÿå®ç°
æ–‡ä»¶ä½ç½®:
- apps/nestjs-backend/src/features/attachments/
- packages/sdk/src/components/cell-value/cell-attachment/
```

**Step 2: å®ç°åç«¯æ–‡ä»¶ä¸Šä¼ æœåŠ¡ï¼ˆ3 å¤©ï¼‰**
```typescript
// éœ€è¦åœ¨åç«¯æ·»åŠ ï¼š
// - æ–‡ä»¶ä¸Šä¼  API
// - æ–‡ä»¶å­˜å‚¨ï¼ˆæœ¬åœ°æˆ–äº‘å­˜å‚¨ï¼‰
// - ç¼©ç•¥å›¾ç”Ÿæˆ
// - æ–‡ä»¶è®¿é—® URL
```

**Step 3: å®ç°å‰ç«¯ä¸Šä¼ ç»„ä»¶ï¼ˆ2 å¤©ï¼‰**
```typescript
// src/components/field-editors/AttachmentEditor.tsx
// src/components/attachment/FileUploader.tsx
// src/components/attachment/FileList.tsx
```

**Step 4: å®ç°æ–‡ä»¶é¢„è§ˆï¼ˆ2 å¤©ï¼‰**
```typescript
// src/components/attachment/FilePreview.tsx
// æ”¯æŒå›¾ç‰‡ã€PDF é¢„è§ˆ
```

**Step 5: é›†æˆåˆ° Gridï¼ˆ1 å¤©ï¼‰**
```typescript
// å•å…ƒæ ¼æ¸²æŸ“
// ç¼–è¾‘å™¨é›†æˆ
```

#### éªŒæ”¶æ ‡å‡†

- [ ] å¯ä»¥ä¸Šä¼ å¤šä¸ªæ–‡ä»¶
- [ ] æ”¯æŒæ‹–æ‹½å’Œç²˜è´´ä¸Šä¼ 
- [ ] å¯ä»¥é¢„è§ˆå›¾ç‰‡å’Œ PDF
- [ ] å¯ä»¥ä¸‹è½½å’Œåˆ é™¤æ–‡ä»¶
- [ ] æ–‡ä»¶æ­£ç¡®å­˜å‚¨åœ¨æœåŠ¡å™¨
- [ ] ç¼©ç•¥å›¾æ­£å¸¸æ˜¾ç¤º

---

### ä»»åŠ¡ 6: Linkï¼ˆå…³è”ï¼‰å­—æ®µ â­â­â­

**ä¼˜å…ˆçº§**: ğŸ”´ æœ€é«˜  
**é¢„è®¡å·¥æ—¶**: 2-3 å‘¨  
**çŠ¶æ€**: â¸ï¸ å¾…å¼€å§‹

#### åŠŸèƒ½éœ€æ±‚

1. **å…³è”å…³ç³»**
   - ä¸€å¯¹å¤šå…³è”
   - å¤šå¯¹å¤šå…³è”
   - è‡ªå…³è”

2. **å…³è”é€‰æ‹©å™¨**
   - æœç´¢è®°å½•
   - é€‰æ‹©è®°å½•
   - åˆ›å»ºæ–°è®°å½•
   - å–æ¶ˆå…³è”

3. **å…³è”æ˜¾ç¤º**
   - æ˜¾ç¤ºå…³è”è®°å½•æ•°é‡
   - å±•å¼€æŸ¥çœ‹å…³è”è®°å½•
   - è·³è½¬åˆ°å…³è”è®°å½•

4. **åç«¯æ”¯æŒ**
   - å…³è”å…³ç³»å­˜å‚¨
   - å…³è”æŸ¥è¯¢ä¼˜åŒ–
   - çº§è”åˆ é™¤é…ç½®

#### å®æ–½æ­¥éª¤

**Step 1: åˆ†ææ—§ç³»ç»Ÿå®ç°ï¼ˆ2 å¤©ï¼‰**
```typescript
// æŸ¥çœ‹æ—§ç³»ç»Ÿå®ç°
æ–‡ä»¶ä½ç½®:
- packages/core/src/models/field/derivate/link.field.ts
- apps/nestjs-backend/src/features/calculation/link.service.ts
- packages/sdk/src/components/cell-value/cell-link/
```

**Step 2: è®¾è®¡å…³è”æ•°æ®ç»“æ„ï¼ˆ1 å¤©ï¼‰**
```typescript
// å…³è”å­—æ®µé…ç½®
export interface ILinkFieldOptions {
  foreignTableId: string
  relationship: 'manyOne' | 'manyMany'
  symmetricFieldId?: string  // å¯¹ç§°å­—æ®µ
}

// å…³è”æ•°æ®
export interface ILinkCellValue {
  id: string
  title?: string
}[]
```

**Step 3: å®ç°åç«¯å…³è”æœåŠ¡ï¼ˆ5 å¤©ï¼‰**
```typescript
// éœ€è¦å®ç°ï¼š
// - åˆ›å»ºå…³è”å­—æ®µ API
// - å…³è”å…³ç³»è¡¨
// - æŸ¥è¯¢å…³è”è®°å½•
// - æ·»åŠ /åˆ é™¤å…³è”
// - çº§è”æ“ä½œ
```

**Step 4: å®ç°å‰ç«¯å…³è”é€‰æ‹©å™¨ï¼ˆ4 å¤©ï¼‰**
```typescript
// src/components/field-editors/LinkEditor.tsx
// src/components/link/LinkRecordSelector.tsx
// src/components/link/LinkedRecordsList.tsx
```

**Step 5: å®ç°å…³è”æ˜¾ç¤ºï¼ˆ2 å¤©ï¼‰**
```typescript
// å•å…ƒæ ¼æ¸²æŸ“
// å±•å¼€æŸ¥çœ‹
```

**Step 6: é›†æˆå’Œæµ‹è¯•ï¼ˆ2 å¤©ï¼‰**

#### éªŒæ”¶æ ‡å‡†

- [ ] å¯ä»¥åˆ›å»º Link å­—æ®µ
- [ ] å¯ä»¥é€‰æ‹©å…³è”è®°å½•
- [ ] å¯ä»¥å–æ¶ˆå…³è”
- [ ] å…³è”æ•°æ®æ­£ç¡®ä¿å­˜
- [ ] å¯ä»¥æŸ¥çœ‹å…³è”è®°å½•è¯¦æƒ…
- [ ] æ€§èƒ½è‰¯å¥½ï¼ˆåƒçº§å…³è”æŸ¥è¯¢ < 200msï¼‰

---

### ä»»åŠ¡ 7: Lookupï¼ˆæŸ¥æ‰¾ï¼‰å­—æ®µ â­â­â­

**ä¼˜å…ˆçº§**: ğŸ”´ é«˜  
**é¢„è®¡å·¥æ—¶**: 1.5-2 å‘¨  
**çŠ¶æ€**: â¸ï¸ å¾…å¼€å§‹

#### åŠŸèƒ½éœ€æ±‚

1. **æŸ¥æ‰¾é…ç½®**
   - é€‰æ‹© Link å­—æ®µ
   - é€‰æ‹©è¦æŸ¥æ‰¾çš„å­—æ®µ
   - é€‰æ‹©æŸ¥æ‰¾æ–¹å¼ï¼ˆç¬¬ä¸€ä¸ªã€å…¨éƒ¨ã€èšåˆï¼‰

2. **æŸ¥æ‰¾ç»“æœ**
   - æ˜¾ç¤ºæŸ¥æ‰¾å€¼
   - è‡ªåŠ¨æ›´æ–°
   - æ ¼å¼åŒ–æ˜¾ç¤º

3. **èšåˆæŸ¥æ‰¾**
   - Countï¼ˆè®¡æ•°ï¼‰
   - Sumï¼ˆæ±‚å’Œï¼‰
   - Averageï¼ˆå¹³å‡ï¼‰
   - Max/Minï¼ˆæœ€å¤§/æœ€å°ï¼‰

#### å®æ–½æ­¥éª¤

**Step 1: åˆ†ææ—§ç³»ç»Ÿå®ç°ï¼ˆ1 å¤©ï¼‰**
```typescript
// æŸ¥çœ‹æ—§ç³»ç»Ÿå®ç°
æ–‡ä»¶ä½ç½®:
- packages/core/src/models/field/derivate/lookup.field.ts
- apps/nestjs-backend/src/features/calculation/
```

**Step 2: è®¾è®¡ Lookup æ•°æ®ç»“æ„ï¼ˆ1 å¤©ï¼‰**
```typescript
export interface ILookupFieldOptions {
  linkFieldId: string        // å…³è”å­—æ®µ
  lookupFieldId: string       // è¦æŸ¥æ‰¾çš„å­—æ®µ
  lookupType: 'first' | 'all' | 'aggregate'
  aggregateFunction?: 'count' | 'sum' | 'average' | 'max' | 'min'
}
```

**Step 3: å®ç°åç«¯æŸ¥æ‰¾æœåŠ¡ï¼ˆ4 å¤©ï¼‰**
```typescript
// éœ€è¦å®ç°ï¼š
// - Lookup å­—æ®µè®¡ç®—
// - è‡ªåŠ¨ä¾èµ–è¿½è¸ª
// - è‡ªåŠ¨æ›´æ–°æœºåˆ¶
// - æ€§èƒ½ä¼˜åŒ–ï¼ˆæ‰¹é‡è®¡ç®—ï¼‰
```

**Step 4: å®ç°å‰ç«¯é…ç½® UIï¼ˆ2 å¤©ï¼‰**
```typescript
// src/components/field-configs/LookupFieldConfig.tsx
```

**Step 5: å®ç°æ˜¾ç¤ºç»„ä»¶ï¼ˆ1 å¤©ï¼‰**
```typescript
// å•å…ƒæ ¼æ¸²æŸ“
```

**Step 6: é›†æˆå’Œæµ‹è¯•ï¼ˆ2 å¤©ï¼‰**

#### éªŒæ”¶æ ‡å‡†

- [ ] å¯ä»¥åˆ›å»º Lookup å­—æ®µ
- [ ] å¯ä»¥é…ç½®æŸ¥æ‰¾è§„åˆ™
- [ ] æŸ¥æ‰¾ç»“æœæ­£ç¡®
- [ ] è‡ªåŠ¨æ›´æ–°å·¥ä½œæ­£å¸¸
- [ ] æ”¯æŒèšåˆæŸ¥æ‰¾
- [ ] æ€§èƒ½è‰¯å¥½

---

## ğŸ“… æ—¶é—´è§„åˆ’

### ç¬¬ä¸€é˜¶æ®µæ—¶é—´è¡¨ï¼ˆ1-2 å‘¨ï¼‰

```
Week 1:
  Day 1-2:  Filter åŠŸèƒ½åˆ†æå’Œè®¾è®¡
  Day 3-4:  Filter UI å’Œé€»è¾‘å®ç°
  Day 5:    Filter é›†æˆå’Œæµ‹è¯•

Week 2:
  Day 6-7:  Sort åŠŸèƒ½å®ç°
  Day 8-10: è®°å½•è¯¦æƒ…å±•å¼€å®ç°
  Day 11-12: CSV å¯¼å…¥å®ç°
  Day 13-14: æ•´ä½“æµ‹è¯•å’Œä¼˜åŒ–
```

### ç¬¬äºŒé˜¶æ®µæ—¶é—´è¡¨ï¼ˆ1-2 ä¸ªæœˆï¼‰

```
Week 3-4:   Attachment å­—æ®µå®ç°
Week 5-7:   Link å­—æ®µå®ç°
Week 8-9:   Lookup å­—æ®µå®ç°
Week 10:    æ•´ä½“æµ‹è¯•å’Œä¼˜åŒ–
```

---

## ğŸ”§ æŠ€æœ¯å‡†å¤‡

### å¼€å‘ç¯å¢ƒ

```bash
# å®‰è£…ä¾èµ–
cd /Users/leven/space/easy/easydb/teable-ui
npm install papaparse @types/papaparse    # CSV è§£æ
npm install react-dropzone                # æ–‡ä»¶ä¸Šä¼ 
npm install @tanstack/react-query         # æ•°æ®è·å–ï¼ˆå¦‚æœæ²¡æœ‰ï¼‰
```

### åˆ›å»ºç›®å½•ç»“æ„

```bash
mkdir -p src/components/filter
mkdir -p src/components/sort
mkdir -p src/components/record-detail
mkdir -p src/components/import
mkdir -p src/components/attachment
mkdir -p src/components/link
mkdir -p src/lib/engines
mkdir -p src/types
```

---

## ğŸ“Š è¿›åº¦è¿½è¸ª

### å®Œæˆåº¦æŒ‡æ ‡

| é˜¶æ®µ | ç›®æ ‡ | å½“å‰ | è¿›åº¦ |
|------|------|------|------|
| ç¬¬ä¸€é˜¶æ®µ | 55% | 40% | 0/4 ä»»åŠ¡å®Œæˆ |
| ç¬¬äºŒé˜¶æ®µ | 75% | 40% | 0/3 ä»»åŠ¡å®Œæˆ |

### ä»»åŠ¡çŠ¶æ€

- ğŸ”„ è¿›è¡Œä¸­: 1
- â¸ï¸ å¾…å¼€å§‹: 6
- âœ… å·²å®Œæˆ: 0

---

## ğŸ¯ éªŒæ”¶æ ‡å‡†

### ç¬¬ä¸€é˜¶æ®µéªŒæ”¶

- [ ] Filter åŠŸèƒ½å¯ç”¨ï¼Œæ”¯æŒåŸºç¡€å­—æ®µç±»å‹
- [ ] Sort åŠŸèƒ½å¯ç”¨ï¼Œæ”¯æŒå¤šå­—æ®µæ’åº
- [ ] è®°å½•è¯¦æƒ…å¯å±•å¼€å’Œç¼–è¾‘
- [ ] CSV å¯¼å…¥å¯æ­£å¸¸å·¥ä½œ
- [ ] æ‰€æœ‰åŠŸèƒ½æ€§èƒ½è‰¯å¥½
- [ ] UI ç¾è§‚ï¼Œäº¤äº’æµç•…
- [ ] ä»£ç è´¨é‡è‰¯å¥½ï¼Œæœ‰é€‚å½“æ³¨é‡Š

### ç¬¬äºŒé˜¶æ®µéªŒæ”¶

- [ ] Attachment å­—æ®µå®Œæ•´å¯ç”¨
- [ ] Link å­—æ®µå®Œæ•´å¯ç”¨
- [ ] Lookup å­—æ®µå®Œæ•´å¯ç”¨
- [ ] å­—æ®µé—´ä¾èµ–å…³ç³»æ­£ç¡®
- [ ] æ€§èƒ½æ»¡è¶³è¦æ±‚
- [ ] é”™è¯¯å¤„ç†å®Œå–„

---

## ğŸ’¡ å®æ–½å»ºè®®

### å¼€å‘åŸåˆ™

1. **å‚è€ƒæ—§ç³»ç»Ÿ**: å……åˆ†å­¦ä¹ æ—§ç³»ç»Ÿçš„å®ç°æ–¹å¼
2. **æ¸è¿›å¼å¼€å‘**: å…ˆå®ç°åŸºç¡€åŠŸèƒ½ï¼Œå†é€æ­¥å®Œå–„
3. **æµ‹è¯•é©±åŠ¨**: ç¼–å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
4. **ä»£ç å¤ç”¨**: æå–å…¬å…±ç»„ä»¶å’Œå·¥å…·å‡½æ•°
5. **æ€§èƒ½ä¼˜å…ˆ**: å…³æ³¨æ€§èƒ½ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“

### æ³¨æ„äº‹é¡¹

1. **æ•°æ®ç»“æ„å…¼å®¹**: å°½é‡ä¸æ—§ç³»ç»Ÿæ•°æ®ç»“æ„å…¼å®¹
2. **API è®¾è®¡**: è®¾è®¡æ¸…æ™°çš„ API æ¥å£
3. **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯æç¤ºå’Œå¤„ç†
4. **ç”¨æˆ·ä½“éªŒ**: æµç•…çš„äº¤äº’å’Œå‹å¥½çš„æç¤º
5. **æ–‡æ¡£æ›´æ–°**: åŠæ—¶æ›´æ–°æ–‡æ¡£å’Œæ³¨é‡Š

---

## ğŸ“ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³å¼€å§‹

1. âœ… åˆ›å»ºå®æ–½è®¡åˆ’æ–‡æ¡£ï¼ˆå·²å®Œæˆï¼‰
2. ğŸ”„ å¼€å§‹ Filter åŠŸèƒ½åˆ†æ
3. â¸ï¸ å‡†å¤‡å¼€å‘ç¯å¢ƒ
4. â¸ï¸ åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„

### æœ¬å‘¨ç›®æ ‡

- å®Œæˆ Filter åŠŸèƒ½çš„è®¾è®¡å’Œå¼€å‘
- å¼€å§‹ Sort åŠŸèƒ½çš„å¼€å‘

---

**å‡†å¤‡å¥½å¼€å§‹äº†å—ï¼Ÿè®©æˆ‘ä»¬ä» Filter åŠŸèƒ½å¼€å§‹ï¼** ğŸš€

